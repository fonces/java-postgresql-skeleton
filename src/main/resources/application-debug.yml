spring:
  # デバッグモード用の設定
  jpa:
    hibernate:
      ddl-auto: create-drop  # デバッグ時はテーブルを毎回再作成
    show-sql: true
    properties:
      hibernate:
        '[format_sql]': true
        '[use_sql_comments]': true
        type: trace  # SQLパラメータもログ出力
        jdbc:
          lob:
            '[non_contextual_creation]': true
  
  # SQLログ詳細出力
  sql:
    init:
      mode: always

# ログレベル設定
logging:
  level:
    '[com.example]': DEBUG
    '[org.springframework.web]': DEBUG
    '[org.springframework.security]': DEBUG
    '[org.springframework.data]': DEBUG
    '[org.hibernate.SQL]': DEBUG
    '[org.hibernate.type.descriptor.sql.BasicBinder]': TRACE
    '[org.hibernate.type.descriptor.sql.BasicExtractor]': TRACE
    '[org.springframework.transaction]': DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

# サーバー設定
server:
  port: 8080
  servlet:
    context-path: /
  error:
    include-stacktrace: always
    include-message: always

# 開発用の設定
debug: true

# Actuator エンドポイント有効化（デバッグ用）
management:
  endpoints:
    web:
      exposure:
        include: "*"
      base-path: /actuator
  endpoint:
    health:
      show-details: always
    env:
      show-values: always